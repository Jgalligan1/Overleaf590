% Initial version by Darian Muresan, Ph.D.
% dmuresan@stevens.edu
% Edit and adjust as needed.
\documentclass[12pt]{cornell}

% add index support
%\usepackage{imakeidx}
\usepackage{makeidx}
%\makeindex

% graphing programs
\usepackage{color}
\usepackage{psfrag}
\usepackage{verbatim}
\usepackage{fancyhdr}
%\usepackage{titlesec}
\usepackage{fancyvrb} 
% hyperlink programs
%\usepackage{url}

% Does not work with LaTeX=>PDF
\usepackage[xetex,
breaklinks=true,
colorlinks=true,
citecolor=blue,
linkcolor=blue,
urlcolor=blue]{hyperref}

%\usepackage[colorlinks]{hyperref} % links in dvi
\usepackage{listings}
\usepackage{amsfonts} 
\usepackage{amssymb} 
%\usepackage{tabto}

\usepackage{tabularx,colortbl}
\usepackage[chapter]{algorithm} 
\usepackage{algorithmic} 
\usepackage{blindtext}

\definecolor{DarkGreen}{rgb}{0,0.6,0}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\usepackage{tocloft}
\usepackage{amsmath}
\usepackage{tcolorbox}
\usepackage{enumitem}
\usepackage{longtable}
%\usepackage{textcomp}
\usepackage{txfonts}
\usepackage{pstool}
\usepackage{minted}

% update chapter number spacing
\setlength{\cftchapnumwidth}{2em}
\setlength{\cftsecnumwidth}{2.5em}
\setlength{\cftsubsecnumwidth}{3.5em}
\setlength{\cftsubsubsecnumwidth}{4.5em}

\addtolength{\cftsecindent}{0.5em}
\addtolength{\cftsubsecindent}{0.5em}
\addtolength{\cftsubsubsecindent}{0.5em}

\newfont{\Bp}{msbm10}
\newfont{\BpBig}{msbm10 scaled\magstep2}
\newfont{\Sc}{eusm10}
\newfont{\ScBig}{eusm10 scaled\magstep3}
\newfont{\Fr}{eufm10}
\newfont{\FrBig}{eufm10 scaled\magstep1}

% some commands:
% ... [all your custom commands remain unchanged]

% listings settings
\lstset{
  backgroundcolor=\color{white},
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  commentstyle=\color{DarkGreen},
  deletekeywords={...},
  escapeinside={\%*}{*)},
  extendedchars=true,
  keepspaces=true,
  keywordstyle=\color{blue},
  language=C++,
  morekeywords={*,...},
  numbers=left,
  numbersep=5pt,
  numberstyle=\tiny\color{mygray},
  rulecolor=\color{black},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  stepnumber=1,
  stringstyle=\color{mymauve}
}

% glossaries to organize the document glossary
\usepackage[toc]{glossaries} % <-- removed invalid numberedchapter option

% glossary creation
\input{dsnGlossary.tex}
\makenoidxglossaries

% Make glossary appear as a chapter
\renewcommand{\glossarysection}[2][]{
    \chapter*{Glossary} % forces glossary to be a chapter
    \addcontentsline{toc}{chapter}{Glossary} % adds to table of contents
}

\makeindex

% Including selective chapters:
\includeonly{
prologue,
dsnIntroduction,
dsnDevelopmentPlan,
dsnRequirements,
dsnUserStories,
dsnUseCases,
dsnUserInterfaceDesign,
dsnLogicalView,
dsnProcessView,
dsnDevelopmentView,
dsnPhysicalView,
dsnWeeklyReports,
projLinuxCommands,
projProjectProposal,
projAWSDeployment,
projLaTeXDocker,
projBugzilla,
projOverleaf,
projDNsSSLVersioning
}

\begin{document}

% ... [the rest of your document remains unchanged]

\pagenumbering{roman}
\singlespacing
\include{prologue}

\setcounter{page}{1}        
\pagenumbering{arabic}      
\pagestyle{fancy}         

\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{#1}{}}

\fancyhead{} % clear all fields

\lhead{Chapter \thechapter}
\chead{\leftmark}
\rhead{\thepage}

\lfoot{Chapter \thechapter}
\cfoot{\copyright Stevens -- \today \mbox{} -- Do Not Distribute!}
\rfoot{\thepage}

\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\singlespacing
\include{dsnIntroduction}
\include{projProjectProposal}
\include{projLinuxCommands}
\include{projAWSDeployment}
\include{projLaTeXDocker}
\include{projBugzilla}
\include{projOverleaf}
\include{projDNsSSLVersioning}

\appendix

\clearpage
\printnoidxglossaries

\bibliography{bibfile}
\bibliographystyle{IEEEtran}

\printindex
\end{document}
